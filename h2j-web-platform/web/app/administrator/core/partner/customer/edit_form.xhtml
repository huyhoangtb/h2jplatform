<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <p:outputPanel id="userPanelId">
        <!--<h:form id="userFormId"  prependId="false">-->  
        <p:messages />

        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="Tên công ty/tổ chức (*)" />
            </div>
            <div class="UIRightContent">

                <p:autoComplete value="#{customerController.organization}"   
                                id="userEditPojoId" completeMethod="#{organizationController.completeOrganization}"  
                                var="organizationParent" itemLabel="#{organizationParent.organizationName}" itemValue="#{organizationParent}" 
                                converter="organizationConverter"  forceSelection="true"
                                size="40">  
                </p:autoComplete>  
                <p:watermark for="userEditPojoId" value="Tên công ty, tổ chức, đơn vị cấp trên" />
            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>

        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['user_fullname']}"/>
            </div>
            <div class="UIRightContent">
                <div class=" UIFloatLeft">
                    <p:inputText value="#{customerController.human.fullName}"/>
                </div>
                <div class="UILabelPanel UIFloatLeft UIMarginLeft10px UIMarginRight10px UIWidth10em" >
                    <h:outputText value="#{msg['user_gender']}"/>
                </div>
                <div class=" UIFloatLeft">
                    <p:selectOneMenu style="width: 120px" value="#{customerController.human.gender}" converter="javax.faces.Integer">
                        <f:selectItem itemLabel="#{msg['user_gender_select']}" itemValue="-1"/>
                        <f:selectItems value="#{customerController.userGenderList}"/>
                    </p:selectOneMenu>
                </div>

            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>
        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['user_birthday']}"/>
            </div>
            <div class="UIRightContent">
                <div class=" UIFloatLeft">
                    <p:calendar value="#{customerController.human.birthday}" pattern="dd/MM/yyyy" showButtonPanel="true" navigator="true"/>
                </div>
                <div class="UILabelPanel UIFloatLeft UIMarginLeft10px UIMarginRight10px UIWidth10em" >
                    <h:outputText value="#{msg['user_work_postion']}"/>
                </div>
                <div class=" UIFloatLeft">
                    <p:inputText value="#{customerController.human.possition}"/>
                </div>
            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>

        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['user_username']}"/>
            </div>
            <div class="UIRightContent">
                <div class=" UIFloatLeft">
                    <p:inputText value="#{customerController.human.username}"/>
                </div>

            </div>

            <div class="UIClearLeft"><span></span></div>
        </div>

        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em ">
                <h:outputText value="#{msg['user_password']}"/>
            </div>
            <div class="UIRightContent ">
                <div class=" UIFloatLeft">
                    <h:inputSecret value="#{customerController.human.password}" />    
                </div>

                <div class="UILabelPanel UIFloatLeft UIMarginLeft10px UIMarginRight10px" style="width: 132px">
                    <h:outputText value="#{msg['user_retype_password']}"/>
                </div>
                <div class="UIFloatLeft">
                    <h:inputSecret value="#{customerController.human.retypePassword}" />
                </div>
                <div class="UIClearLeft"><span></span></div>
            </div>

            <div class="UIClearLeft"><span></span></div>
        </div>

        <!--<div class="UIPanelTable">-->
        <div >
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['label_status_account']}"/>
            </div>
            <div class="UIRightContent">
                <div class=" UIFloatLeft">
                    <p:selectOneMenu style="width: 167px" value="#{customerController.human.status}" converter="javax.faces.Integer">
                        <f:selectItem itemLabel="#{msg['select_status']}" itemValue="-1"/>
                        <f:selectItems value="#{customerController.userStatuList}"/>
                    </p:selectOneMenu>
                </div>
                <div class=" UIFloatLeft UIMargin10px">
                    <p:selectBooleanCheckbox value="#{customerController.human.mandatoryResetPass}"/>
                </div>
                <div class=" UIFloatLeft UIMarginTop15px UIMarginRight10px" >
                    <h:outputText value="#{msg['account_mandatoryResetPass_label']}"/>
                </div>

            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>
        <p:fieldset legend="#{msg['label_limited_time_use']}" toggleable="true" toggleSpeed="500"
                    styleClass="UIFieldsetUser">  
            <div class="UIPanelTable">

                <div class=" UIFloatLeft UIMarginLeft11em">
                    <p:calendar id="accountStartDateId" value="#{customerController.human.startDate}" pattern="dd/MM/yyyy" showButtonPanel="true" navigator="true"/>
                    <p:watermark for="accountStartDateId" value="Ngày hiệu lực" />
                </div>
                <div class=" UIFloatLeft UIMarginLeft11a5em">
                    <p:calendar id="accountEndDateId" value="#{customerController.human.endDate}" pattern="dd/MM/yyyy" showButtonPanel="true" navigator="true"/>
                    <p:watermark for="accountEndDateId" value="Ngày hết hiệu lực" />
                </div>
                <div class="UIClearLeft"><span></span></div>
            </div>
        </p:fieldset>
        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['user_cmt']}"/>
            </div>
            <div class="UIRightContent">
                <div class=" UIFloatLeft">
                    <p:inputText value="#{customerController.human.cmt}"/>
                </div>
                <div class="UILabelPanel UIFloatLeft UIMarginLeft10px UIMarginRight10px UIWidth10em">
                    <h:outputText value="#{msg['user_cmt_issue_date']}"/>
                </div>
                <div class=" UIFloatLeft">
                    <p:calendar value="#{customerController.human.cmtApproveDate}" pattern="dd/MM/yyyy"/>
                </div>
            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>
        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="Địa chỉ (*)"/>
            </div>
            <div class="UIRightContent">
                <p:inputText size="66"   value="#{customerController.human.address}"/>
            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>

        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['user_tel']}"/>
            </div>
            <div class="UIRightContent">
                <div class="UIFloatLeft UIMarginRight10px">
                    <p:inputMask mask="(+999) 099.999.9999?.9"   value="#{customerController.human.tel}"/>
                </div>
                <div class="UIFloatLeft UIMarginRight10px UILabelPanel UIWidth10em" >
                    <h:outputText value="#{msg['user_phone']}"/>
                </div>
                <div class="UIFloatLeft UIPanel UIMarginRight10px">
                    <p:inputMask mask="(+999) 099.999.9999?.9"   value="#{customerController.human.phone}"/>   
                </div>
                <div class="UIClearLeft"><span></span></div>
            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>
        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['user_email']}"/>
            </div>
            <div class="UIRightContent">
                <div class="UIFloatLeft UIMarginRight10px">
                    <p:inputText   value="#{customerController.human.emailAddress}"/>
                </div>
                <div class="UIFloatLeft UIMarginRight10px UILabelPanel UIWidth10em" >
                    <h:outputText value="#{msg['user_contact_yahoo']}"/>
                </div>
                <div class="UIFloatLeft UIPanel UIMarginRight10px">
                    <p:inputText   value="#{customerController.human.yahoo}"/>
                </div>
                <div class="UIClearLeft"><span></span></div>
            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>
        <div class="UIPanelTable">
            <div class="UILabelPanel UIFloatLeft UIWidth12em">
                <h:outputText value="#{msg['user_contact_skype']}"/>
            </div>
            <div class="UIRightContent">
                <p:inputText  value="#{customerController.human.skype}"/>
            </div>
            <div class="UIClearLeft"><span></span></div>
        </div>


        <div class="UIButtonPanel">

<!--            <p:commandButton onclick="window.history.back()" value="{msg['system_backtoprevious']}"   ajax="false">

            </p:commandButton>-->
            <p:commandButton  value="#{msg['label_create_new']}"  rendered="#{customerController.human.humanId eq null}"
                             actionListener="#{customerController.saveHuman}" ajax="false">

            </p:commandButton>
            <p:commandButton value="#{msg['label_retyping_date']}"  rendered="#{customerController.human.humanId eq null}"
                             actionListener="#{organizationController.retypeOrganization}" ajax="false">
            </p:commandButton>
            <p:commandButton value="#{msg['label_confirm_update']}"  rendered="#{customerController.human.humanId ne null}"
                             actionListener="#{customerController.saveHuman}" ajax="false">
            </p:commandButton>
            <p:commandButton value="#{msg['user_delete']}"  rendered="#{customerController.human.humanId ne null}"
                             actionListener="#{customerController.deleteHuman}" ajax="false">
                <p:confirmDialog  header="Xóa nhân viên này" message="Bạn có chắc chắn muốn xóa nhân viên này không?"  /> 
            </p:commandButton>
        </div>
    </p:outputPanel>
</ui:composition>